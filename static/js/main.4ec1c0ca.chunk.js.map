{"version":3,"sources":["utils/constants.ts","utils/getChatTabTitle.ts","utils/streamServices.ts","utils/getPlayerAndChat.ts","hooks/usePlayerAndChat.ts","hooks/useIsMobile.ts","App.tsx","index.tsx"],"names":["StreamService","PRESETS","nytick","player","chats","gg","wasd","youtube","id","getChatTabTitle","service","payload","twitch","channel","window","location","host","goodgame","rutube","players","getChatUrl","getPlayerUrl","YOUTUBE_PRESET_REGEX","DEFAULT_PLAYER","DEFAULT_CHATS","getFrame","urlParam","getUrl","params","split","length","paramsService","paramsPayload","isValidService","url","getChats","map","chat","getPlayerAndChat","hash","searchParams","search","URLSearchParams","playerText","get","chatsText","preset","slice","match","exec","presetService","presetPayload","Object","keys","includes","validChats","filter","Boolean","getChatFrames","getPlayerAndChatData","usePlayerAndChat","useState","state","setState","useEffect","handleHashChange","addEventListener","removeEventListener","getIsMobile","width","innerWidth","height","innerHeight","useIsMobile","isMobile","setIsMobile","handleResize","GlobalStyle","createGlobalStyle","Container","styled","div","p","$isMobile","css","WasdIconOverflow","PlayerWrapper","$service","Player","iframe","attrs","allow","allowFullScreen","ChatsWrapper","ChatTabs","ChatTabsInner","ChatTab","$active","GitHubLink","a","Chat","handleGitHubLinkClick","ReactGA","event","category","action","App","activeChat","setActiveChat","renderedChatFrames","src","title","onClick","target","rel","href","initialize","pageview","pathname","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4ec1c0ca.chunk.js","sourcesContent":["import type { Preset } from './types';\n\nexport enum StreamService {\n  twitch = 'twitch',\n  youtube = 'youtube',\n  goodgame = 'goodgame',\n  wasd = 'wasd',\n  rutube = 'rutube',\n}\n\nexport const PRESETS: Record<string, Preset> = {\n  nytick: {\n    player: 'nytick',\n    chats: 'honeymad,nytick',\n  },\n  gg: {\n    player: 'goodgame@41677',\n    chats: 'honeymad,goodgame@41677',\n  },\n  'gg-lasqa': {\n    player: 'goodgame@99600',\n    chats: 'lasqa,goodgame@99600',\n  },\n  'gg-segall': {\n    player: 'goodgame@99600',\n    chats: 'segall,goodgame@99600',\n  },\n  'gg-arrowwoods': {\n    player: 'goodgame@137757',\n    chats: 'arrowwoods,goodgame@137757',\n  },\n  'gg-melharucos': {\n    player: 'goodgame@171713',\n    chats: 'melharucos,goodgame@171713',\n  },\n  'gg-liz0n': {\n    player: 'goodgame@79564',\n    chats: 'liz0n,goodgame@79564',\n  },\n  'gg-roadhouse': {\n    player: 'goodgame@130743',\n    chats: 'roadhouse,goodgame@130743',\n  },\n  'gg-zanuda': {\n    player: 'goodgame@88446',\n    chats: 'zanuda,goodgame@88446',\n  },\n  'gg-nuke73': {\n    player: 'goodgame@3610',\n    chats: 'nuke73,goodgame@3610',\n  },\n  'gg-peacedaria': {\n    player: 'goodgame@187660',\n    chats: 'peacedaria',\n  },\n  wasd: {\n    player: 'wasd@22196',\n    chats: 'honeymad,wasd@22196',\n  },\n  'wasd-cake': {\n    player: 'wasd@40656',\n    chats: 'c_a_k_e,wasd@40656',\n  },\n  'wasd-zanuda': {\n    player: 'wasd@20402',\n    chats: 'zanuda,wasd@20402',\n  },\n  'wasd-lasqa': {\n    player: 'wasd@164328',\n    chats: 'lasqa,goodgame@99600,wasd@164328',\n  },\n  'wasd-segall': {\n    player: 'wasd@166801',\n    chats: 'segall,wasd@166801',\n  },\n  'wasd-guit88man': {\n    player: 'wasd@111152',\n    chats: 'guit88man,wasd@111152',\n  },\n  'wasd-nuke73': {\n    player: 'wasd@103444',\n    chats: 'nuke73,wasd@103444',\n  },\n  'wasd-arrowwoods': {\n    player: 'wasd@47282',\n    chats: 'arrowwoods,goodgame@180813,wasd@47282',\n  },\n  youtube: {\n    player: (id: string) => `youtube@${id}`,\n    chats: (id: string) => `honeymad,youtube@${id}`,\n  },\n  'rt-lasqa': {\n    player: (id: string) => `rutube@${id}`,\n    chats: () => 'lasqa',\n  },\n};\n","import type { Frame } from './types';\nimport { StreamService } from './constants';\n\nconst getChatTabTitle = ({ service, payload }: Frame) =>\n  service === StreamService.twitch ? payload : service;\n\nexport default getChatTabTitle;\n","import { StreamService } from './constants';\n\n// prettier-ignore\nconst chats = {\n  [StreamService.twitch]: (channel: string) => `//www.twitch.tv/embed/${channel}/chat?darkpopout&parent=${window.location.host}`,\n  [StreamService.youtube]: (id: string) => `//www.youtube.com/live_chat?v=${id}&is_popout=1`,\n  [StreamService.goodgame]: (id: string) => `//goodgame.ru/chat/${id}`,\n  [StreamService.wasd]: (id: string) => `//wasd.tv/chat?channel_id=${id}`,\n  [StreamService.rutube]: (id: string) => `//rutube.ru/pl/?pl_id&pl_type&pl_video=${id}`,\n};\n\n// prettier-ignore\nconst players = {\n  [StreamService.twitch]: (channel: string) => `//player.twitch.tv/?channel=${channel}&parent=${window.location.host}`,\n  [StreamService.youtube]: (id: string) => `//www.youtube.com/embed/${id}?autoplay=1`,\n  [StreamService.goodgame]: (id: string) => `//goodgame.ru/player?${id}`,\n  [StreamService.wasd]: (id: string) => `//wasd.tv/channel/${id}`,\n  [StreamService.rutube]: (id: string) => `//rutube.ru/chat/?videoId=${id}`,\n};\n\nexport const getChatUrl = (service: StreamService, payload: string) =>\n  chats[service](payload);\n\nexport const getPlayerUrl = (service: StreamService, payload: string) =>\n  players[service](payload);\n","import { getPlayerUrl, getChatUrl } from './streamServices';\nimport type { Frame, PresetText } from './types';\nimport { StreamService, PRESETS } from './constants';\n\nconst YOUTUBE_PRESET_REGEX = /^(youtube)=([a-zA-Z0-9_-]{11})$/;\n\nexport const DEFAULT_PRESET = PRESETS.wasd;\nconst {\n  player: DEFAULT_PLAYER,\n  chats: DEFAULT_CHATS,\n} = DEFAULT_PRESET as PresetText;\n\nconst CHANNEL_SEPARATOR = '@';\nconst CHATS_SEPARATOR = ',';\n\nconst isValidService = (service: string) => service in StreamService;\n\nexport const getFrame = (\n  urlParam: string | null,\n  getUrl: typeof getChatUrl | typeof getPlayerUrl,\n): Frame | null => {\n  if (!urlParam) return null;\n\n  const params = urlParam.split(CHANNEL_SEPARATOR);\n\n  let service: StreamService | null = null;\n  let payload: string | null = null;\n\n  if (params.length === 1) {\n    const [channel] = params;\n\n    service = StreamService.twitch;\n    payload = channel;\n  }\n\n  if (params.length === 2) {\n    const [paramsService, paramsPayload] = params;\n\n    if (!isValidService(paramsService)) return null;\n\n    service = paramsService as StreamService;\n    payload = paramsPayload;\n  }\n\n  if (!service || !payload) return null;\n\n  return {\n    service,\n    payload,\n    url: getUrl(service, payload),\n  };\n};\n\nexport const getPlayerFrame = (urlParam: string | null) => {\n  const player = getFrame(urlParam, getPlayerUrl);\n\n  return player || (getFrame(DEFAULT_PLAYER, getPlayerUrl) as Frame);\n};\n\nconst getChats = (urlParam: string) =>\n  urlParam.split(CHATS_SEPARATOR).map((chat) => getFrame(chat, getChatUrl));\n\nexport const getChatFrames = (urlParam: string | null) => {\n  const chats = getChats(urlParam || DEFAULT_CHATS);\n  const validChats = chats.filter(Boolean);\n\n  return (validChats.length > 0\n    ? validChats\n    : getChats(DEFAULT_CHATS)) as Frame[];\n};\n\ntype GetPlayerAndChatParams = {\n  hash: string;\n  searchParams: string;\n};\n\nconst getPlayerAndChat = ({ hash, searchParams }: GetPlayerAndChatParams) => {\n  const search = new URLSearchParams(searchParams);\n\n  let playerText = search.get('player');\n  let chatsText = search.get('chats');\n\n  // check hash\n  const preset = hash.slice(1);\n\n  if (preset) {\n    const match = YOUTUBE_PRESET_REGEX.exec(preset);\n\n    let presetService = '';\n    let presetPayload = '';\n\n    if (match !== null) {\n      const [, service, payload] = match;\n\n      presetService = service;\n      presetPayload = payload;\n    } else {\n      presetService = preset;\n    }\n\n    if (Object.keys(PRESETS).includes(presetService)) {\n      const { player, chats } = PRESETS[presetService];\n\n      playerText =\n        typeof player === 'function' ? player(presetPayload) : player;\n      chatsText = typeof chats === 'function' ? chats(presetPayload) : chats;\n    }\n  }\n\n  // default values\n  // both player and chats are not set\n  if (!playerText && !chatsText) {\n    playerText = DEFAULT_PLAYER;\n    chatsText = DEFAULT_CHATS;\n  }\n\n  // only chats is set\n  if (!playerText) {\n    playerText = DEFAULT_PLAYER;\n  }\n\n  // only player is set\n  if (!chatsText) {\n    chatsText = playerText;\n  }\n\n  const player = getPlayerFrame(playerText);\n  const chats = getChatFrames(chatsText);\n\n  return { player, chats };\n};\n\nexport default getPlayerAndChat;\n","import { useState, useEffect } from 'react';\nimport getPlayerAndChat from 'utils/getPlayerAndChat';\n\nconst getPlayerAndChatData = () =>\n  getPlayerAndChat({\n    hash: window.location.hash,\n    searchParams: window.location.search,\n  });\n\nconst usePlayerAndChat = () => {\n  const [state, setState] = useState(getPlayerAndChatData);\n\n  useEffect(() => {\n    const handleHashChange = () => {\n      setState(getPlayerAndChatData());\n    };\n\n    window.addEventListener('hashchange', handleHashChange);\n\n    return () => window.removeEventListener('hashchange', handleHashChange);\n  }, []);\n\n  return state;\n};\n\nexport default usePlayerAndChat;\n","import { useState, useEffect } from 'react';\n\nconst MAX_WIDTH = 920;\nconst MIN_HEIGHT = 768;\n\nconst getIsMobile = () => {\n  const { innerWidth: width, innerHeight: height } = window;\n\n  return width < MAX_WIDTH && height >= MIN_HEIGHT;\n};\n\nconst useIsMobile = () => {\n  const [isMobile, setIsMobile] = useState(getIsMobile);\n\n  useEffect(() => {\n    const handleResize = () => setIsMobile(getIsMobile());\n\n    window.addEventListener('resize', handleResize);\n\n    return () => window.addEventListener('resize', handleResize);\n  }, [setIsMobile]);\n\n  return isMobile;\n};\n\nexport default useIsMobile;\n","import React, { useState, useEffect } from 'react';\nimport ReactGA from 'react-ga';\nimport styled, { createGlobalStyle, css } from 'styled-components';\nimport { ReactComponent as MarkGitHubSvg } from '@primer/octicons/build/svg/mark-github-16.svg';\n\nimport { StreamService } from 'utils/constants';\nimport type { Frame } from 'utils/types';\nimport getChatTabTitle from 'utils/getChatTabTitle';\nimport usePlayerAndChat from 'hooks/usePlayerAndChat';\nimport useIsMobile from 'hooks/useIsMobile';\n\nconst GlobalStyle = createGlobalStyle`\n  :root {\n    --color-black: #0e0c13;\n    --color-violet: #2c2541;\n    --color-violet-dark: #1f1925;\n    --chat-tabs-height: 20px;\n    --chat-width: 340px;\n  }\n  * {\n    box-sizing: border-box;\n  }\n  body {\n    margin: 0;\n  }\n`;\nconst Container = styled.div<{ $isMobile: boolean }>`\n  display: flex;\n  align-items: flex-start;\n  height: 100vh;\n  font-family: sans-serif;\n\n  ${(p) =>\n    p.$isMobile &&\n    css`\n      flex-direction: column;\n      align-items: stretch;\n    `}\n`;\nconst WasdIconOverflow = styled.div`\n  position: absolute;\n  top: 54px;\n  right: var(--chat-width);\n  width: 32px;\n  height: 28px;\n`;\ntype PlayerWrapperProps = {\n  $service: StreamService;\n  $isMobile: boolean;\n};\nconst PlayerWrapper = styled.div<PlayerWrapperProps>`\n  position: relative;\n  flex-grow: 1;\n  height: 100%;\n\n  ${(p) =>\n    p.$service === StreamService.wasd &&\n    css`\n      --wasd-offset-top: 48px;\n\n      height: calc(100% + var(--wasd-offset-top));\n      margin-top: calc(-1 * var(--wasd-offset-top));\n      margin-right: -320px;\n    `};\n\n  ${(p) =>\n    p.$isMobile &&\n    css`\n      height: auto;\n      flex-grow: 0;\n      flex-shrink: 0;\n\n      &:after {\n        display: block;\n        content: '';\n        padding-top: 56.25%;\n      }\n    `}\n`;\nconst Player = styled.iframe.attrs({\n  allow: 'autoplay',\n  allowFullScreen: true,\n})`\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: none;\n  width: 100%;\n  height: 100%;\n`;\nconst ChatsWrapper = styled.div<{ $isMobile: boolean }>`\n  position: relative;\n  flex-shrink: 0;\n  width: var(--chat-width);\n\n  ${(p) =>\n    p.$isMobile &&\n    css`\n      width: 100%;\n      flex-grow: 1;\n    `}\n`;\nconst ChatTabs = styled.div`\n  display: flex;\n  height: var(--chat-tabs-height);\n  border-bottom: 1px solid var(--color-violet);\n`;\nconst ChatTabsInner = styled.div`\n  display: flex;\n  flex-grow: 1;\n`;\nconst ChatTab = styled.div<{ $active: boolean }>`\n  flex-grow: 1;\n  flex-basis: 0;\n  color: ${(p) => (p.$active ? '#d3d3d3' : '#898395')};\n  background-color: ${(p) =>\n    p.$active ? 'var(--color-violet-dark)' : 'var(--color-black)'};\n  font-family: sans-serif;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: var(--chat-tabs-height);\n  text-align: center;\n  border-right: 1px solid var(--color-violet);\n  cursor: pointer;\n\n  &:hover {\n    background-color: var(--color-violet-dark);\n  }\n`;\nconst GitHubLink = styled.a`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--chat-tabs-height);\n  background-color: var(--color-black);\n\n  &:hover {\n    background-color: var(--color-violet-dark);\n  }\n\n  svg path {\n    fill: #898395;\n  }\n`;\nconst Chat = styled.iframe<{ $active: boolean; $isMobile: boolean }>`\n  display: ${(p) => (p.$active ? 'block' : 'none')};\n  width: 100%;\n  height: calc(100vh - var(--chat-tabs-height));\n  border: none;\n  background-color: #fff;\n\n  ${(p) =>\n    p.$isMobile &&\n    css`\n      height: calc(100% - var(--chat-tabs-height));\n    `}\n`;\n\nconst handleGitHubLinkClick = () =>\n  ReactGA.event({\n    category: 'User Interface',\n    action: 'GitHub Repository Click',\n  });\n\nconst App = () => {\n  const { player, chats } = usePlayerAndChat();\n  const [activeChat, setActiveChat] = useState(chats[0].url);\n\n  const isMobileSize = useIsMobile();\n  const isMobile = isMobileSize && player.service !== StreamService.wasd;\n\n  useEffect(() => setActiveChat(chats[0].url), [setActiveChat, chats]);\n\n  // remove wads chat if it the same as the player\n  const renderedChatFrames = chats.filter(\n    ({ service, payload }: Frame) =>\n      !(service === StreamService.wasd && payload === player.payload),\n  );\n\n  return (\n    <>\n      <Container $isMobile={isMobile}>\n        <PlayerWrapper $service={player.service} $isMobile={isMobile}>\n          <Player\n            src={player.url}\n            title={`${player.service} - ${player.payload}`}\n          />\n        </PlayerWrapper>\n        {player.service === StreamService.wasd && <WasdIconOverflow />}\n        <ChatsWrapper $isMobile={isMobile}>\n          <ChatTabs>\n            <ChatTabsInner>\n              {chats.map((chat) => (\n                <ChatTab\n                  key={chat.url}\n                  $active={chat.url === activeChat}\n                  onClick={() => setActiveChat(chat.url)}\n                >\n                  {getChatTabTitle(chat)}\n                </ChatTab>\n              ))}\n            </ChatTabsInner>\n            <GitHubLink\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n              href=\"//github.com/honeykingdom/honeykingdom.github.io\"\n              title=\"Репозиторий на GitHub\"\n              onClick={handleGitHubLinkClick}\n            >\n              <MarkGitHubSvg />\n            </GitHubLink>\n          </ChatTabs>\n          {renderedChatFrames.map(({ url }) => (\n            <Chat\n              key={url}\n              src={url}\n              $active={url === activeChat}\n              $isMobile={isMobile}\n            />\n          ))}\n        </ChatsWrapper>\n      </Container>\n      <GlobalStyle />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactGA from 'react-ga';\n\nimport App from './App';\n\nReactGA.initialize('UA-139550930-1');\nReactGA.pageview(\n  window.location.pathname + window.location.search + window.location.hash,\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}