{"version":3,"sources":["Player.jsx","icons/theater-mode.svg","NonoliveMessage.jsx","utils/constants.js","hooks/useIsMobile.js","utils/streamServices.js","utils/urlParams.js","App.jsx","index.jsx"],"names":["Player","_ref","className","src","react_default","a","createElement","allow","allowFullScreen","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fill","d","theater_mode_SvgTheaterMode","svgRef","props","viewBox","ref","ForwardRef","forwardRef","__webpack_require__","p","NonoliveMessageRoot","styled","div","_templateObject","Link","attrs","rel","_templateObject2","TheaterMode","TheaterModeIcon","_templateObject3","NonoliveMessage","href","STREAM_SERVICES","TWITCH","YOUTUBE","GOODGAME","NONOLIVE","WASD","PRESETS","nytick","player","chats","gg","gg-lasqa","gg-segall","gg-arrowwoods","gg-melharucos","gg-liz0n","gg-roadhouse","gg-zanuda","nonolive","wasd","youtube","id","concat","getIsMobile","_window","window","width","innerWidth","height","innerHeight","useIsMobile","_useState","useState","_useState2","slicedToArray","isMobile","setIsMobile","useEffect","handleResize","addEventListener","_chats","defineProperty","channel","players","_players","getChatUrl","service","payload","getPlayerUrl","DEFAULT_PLAYER","DEFAULT_CHATS","isValidStreamService","streamService","values","includes","getStreamService","urlParam","getUrl","split","url","_streamService2","getPlayerFromUrl","getChats","map","chat","getChatsFromUrl","validChats","filter","GlobalStyle","createGlobalStyle","App_templateObject","Container","App_templateObject2","css","App_templateObject3","NonoliveOverflow","_templateObject4","WasdIconOverflow","_templateObject5","PlayerWrapper","_templateObject6","_templateObject7","_templateObject8","_templateObject9","StyledPlayer","_templateObject10","ChatsWrapper","_templateObject11","_templateObject12","ChatTabs","_templateObject13","ChatTab","_templateObject14","active","Chat","iframe","_templateObject15","_templateObject16","YOUTUBE_PRESET_REGEX","getPresetFromHash","hash","location","slice","m","exec","_m","value","isPresetValid","preset","getInitialHash","App","setPreset","_getFrames","playerParam","chatsParam","_PRESETS$value","presetPlayer","presetChats","urlParams","URLSearchParams","search","get","getFrames","_useState3","_useState4","activeChat","setActiveChat","handleHashChange","newPreset","removeEventListener","renderedChats","Fragment","src_NonoliveMessage","onClick","ReactGA","initialize","pageview","pathname","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4b93e0a0.chunk.js","sourcesContent":["import React from 'react';\nimport pt from 'prop-types';\n\nconst Player = ({ className, src }) => (\n  // eslint-disable-next-line jsx-a11y/iframe-has-title\n  <iframe className={className} src={src} allow=\"autoplay\" allowFullScreen=\"true\" />\n);\nPlayer.propTypes = {\n  className: pt.string,\n  src: pt.string.isRequired,\n};\n\nexport default Player;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M4 6v14h19V6h-2v12H6V8h10v10h2V8h3V6z\"\n});\n\nvar SvgTheaterMode = function SvgTheaterMode(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 26 26\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTheaterMode, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/theater-mode.0a76c5c6.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\n\nimport { ReactComponent as TheaterModeIcon } from './icons/theater-mode.svg';\n\nconst NonoliveMessageRoot = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  opacity: 0.5;\n  color: #9f9f9f;\n`;\nconst Link = styled.a.attrs({ target: '_blank', rel: 'noopener noreferrer' })`\n  text-decoration: none;\n  color: #f2a525;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\nconst TheaterMode = styled(TheaterModeIcon)`\n  display: inline-flex;\n  width: 26px;\n  height: 26px;\n  color: #fff;\n`;\n\nconst NonoliveMessage = () => (\n  <NonoliveMessageRoot>\n    Установить расширение&nbsp;\n    <strong>Ignore X-Frame-Options Header</strong>\n    &nbsp;(\n    <Link href=\"https://chrome.google.com/webstore/detail/ignore-x-frame-headers/gleekbfjekiniecknbkamfmkohkpodhe\">\n      Chrome\n    </Link>\n    ,&nbsp;\n    <Link href=\"https://addons.mozilla.org/en-US/firefox/addon/ignore-x-frame-options-header/\">\n      Firefox\n    </Link>\n    ) и нажать кнопку Theatre Mode&nbsp;\n    <TheaterMode />\n    &nbsp;в плеере\n  </NonoliveMessageRoot>\n);\n\nexport default NonoliveMessage;\n","export const STREAM_SERVICES = {\n  TWITCH: 'twitch',\n  YOUTUBE: 'youtube',\n  GOODGAME: 'goodgame',\n  NONOLIVE: 'nonolive',\n  WASD: 'wasd',\n};\n\nexport const PRESETS = {\n  nytick: {\n    player: 'nytick',\n    chats: 'honeymad,nytick',\n  },\n  gg: {\n    player: 'goodgame@41677',\n    chats: 'honeymad,goodgame@41677',\n  },\n  'gg-lasqa': {\n    player: 'goodgame@99600',\n    chats: 'lasqa,goodgame@99600',\n  },\n  'gg-segall': {\n    player: 'goodgame@99600',\n    chats: 'segall,goodgame@99600',\n  },\n  'gg-arrowwoods': {\n    player: 'goodgame@137757',\n    chats: 'arrowwoods,goodgame@137757',\n  },\n  'gg-melharucos': {\n    player: 'goodgame@25432',\n    chats: 'melharucos,goodgame@25432',\n  },\n  'gg-liz0n': {\n    player: 'goodgame@79564',\n    chats: 'liz0n,goodgame@79564',\n  },\n  'gg-roadhouse': {\n    player: 'goodgame@130743',\n    chats: 'roadhouse,goodgame@130743',\n  },\n  'gg-zanuda': {\n    player: 'goodgame@88446',\n    chats: 'zanuda,goodgame@88446',\n  },\n  nonolive: {\n    player: 'nonolive@18407291',\n    chats: 'honeymad,nonolive@18407291',\n  },\n  wasd: {\n    player: 'wasd@22196',\n    chats: 'honeymad,wasd@22196',\n  },\n  youtube: {\n    player: id => `youtube@${id}`,\n    chats: id => `honeymad,youtube@${id}`,\n  },\n};\n","import { useState, useEffect } from 'react';\n\nconst MAX_WIDTH = 920;\nconst MIN_HEIGHT = 768;\n\nconst getIsMobile = () => {\n  const { innerWidth: width, innerHeight: height } = window;\n\n  return width < MAX_WIDTH && height >= MIN_HEIGHT;\n};\n\nconst useIsMobile = () => {\n  const [isMobile, setIsMobile] = useState(getIsMobile);\n\n  useEffect(() => {\n    const handleResize = () => setIsMobile(getIsMobile());\n\n    window.addEventListener('resize', handleResize);\n\n    return () => window.addEventListener('resize', handleResize);\n  }, [setIsMobile]);\n\n  return isMobile;\n};\n\nexport default useIsMobile;\n","import { STREAM_SERVICES } from './constants';\n\nconst chats = {\n  [STREAM_SERVICES.TWITCH]: channel => `//www.twitch.tv/embed/${channel}/chat?darkpopout`,\n  [STREAM_SERVICES.YOUTUBE]: id => `//www.youtube.com/live_chat?v=${id}&is_popout=1`,\n  [STREAM_SERVICES.GOODGAME]: id => `//goodgame.ru/chat/${id}`,\n  [STREAM_SERVICES.NONOLIVE]: id => `//www.nonolive.com/popout/chat/${id}`,\n  [STREAM_SERVICES.WASD]: id => `//wasd.tv/chat?channel_id=${id}`,\n};\n\nconst players = {\n  [STREAM_SERVICES.TWITCH]: channel => `//player.twitch.tv/?channel=${channel}`,\n  [STREAM_SERVICES.YOUTUBE]: id => `//www.youtube.com/embed/${id}?autoplay=1`,\n  [STREAM_SERVICES.GOODGAME]: id => `//goodgame.ru/player?${id}`,\n  [STREAM_SERVICES.NONOLIVE]: id => `//www.nonolive.com/room/${id}`,\n  [STREAM_SERVICES.WASD]: id => `//wasd.tv/channel/${id}`,\n};\n\nexport const getChatUrl = ({ service, payload }) => chats[service](payload);\n\nexport const getPlayerUrl = ({ service, payload }) => players[service](payload);\n","import { getChatUrl, getPlayerUrl } from './streamServices';\nimport { STREAM_SERVICES, PRESETS } from './constants';\n\nconst CHANNEL_SEPARATOR = '@';\nconst CHATS_SEPARATOR = ',';\n\nconst { player: DEFAULT_PLAYER, chats: DEFAULT_CHATS } = PRESETS.wasd;\n\nconst isValidStreamService = streamService => streamService && Object.values(STREAM_SERVICES).includes(streamService.service);\n\nconst getStreamService = (urlParam, getUrl) => {\n  if (!urlParam) return null;\n\n  const streamService = urlParam.split(CHANNEL_SEPARATOR);\n\n  if (streamService.length === 1) {\n    const service = STREAM_SERVICES.TWITCH;\n    const [payload] = streamService;\n\n    return {\n      service,\n      payload,\n      url: getUrl({ service, payload }),\n    };\n  }\n\n  if (streamService.length === 2) {\n    const [service, payload] = streamService;\n\n    return {\n      service,\n      payload,\n      url: getUrl({ service, payload }),\n    };\n  }\n\n  return null;\n};\n\nexport const getPlayerFromUrl = (urlParam) => {\n  const player = getStreamService(urlParam, getPlayerUrl);\n\n  return isValidStreamService(player) ? player : getStreamService(DEFAULT_PLAYER, getPlayerUrl);\n};\n\nconst getChats = urlParam => urlParam.split(CHATS_SEPARATOR).map(chat => getStreamService(chat, getChatUrl));\n\nexport const getChatsFromUrl = (urlParam) => {\n  const chats = getChats(urlParam || DEFAULT_CHATS);\n  const validChats = chats.filter(chat => chat && isValidStreamService(chat));\n\n  return validChats.length > 0 ? validChats : getChats(DEFAULT_CHATS);\n};\n","import React, { useState, useEffect } from 'react';\nimport styled, { createGlobalStyle, css } from 'styled-components';\n\nimport Player from './Player';\nimport NonoliveMessage from './NonoliveMessage';\nimport { STREAM_SERVICES, PRESETS } from './utils/constants';\nimport useIsMobile from './hooks/useIsMobile';\nimport { getPlayerFromUrl, getChatsFromUrl } from './utils/urlParams';\n\nconst GlobalStyle = createGlobalStyle`\n  :root {\n    --color-black: #0e0c13;\n    --color-violet: #2c2541;\n    --color-violet-dark: #1f1925;\n    --chat-tabs-height: 26px;\n    --chat-witdh: 340px;\n  }\n  * {\n    box-sizing: border-box;\n  }\n  body {\n    margin: 0;\n  }\n`;\nconst Container = styled.div`\n  display: flex;\n  align-items: flex-start;\n  height: 100vh;\n  font-family: sans-serif;\n\n  ${p => p.isMobile\n    && css`\n      flex-direction: column;\n      align-items: stretch;\n    `}\n`;\nconst NonoliveOverflow = styled.div`\n  position: absolute;\n  left: 0;\n  right: var(--chat-witdh);\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  height: 60px;\n  background-color: #313131;\n`;\nconst WasdIconOverflow = styled.div`\n  position: absolute;\n  top: 6px;\n  right: var(--chat-witdh);\n  width: 32px;\n  height: 28px;\n`;\nconst PlayerWrapper = styled.div`\n  position: relative;\n  flex-grow: 1;\n  height: 100%;\n\n  ${p => p.service === STREAM_SERVICES.NONOLIVE\n    && css`\n      margin-right: calc(-1 * var(--chat-witdh));\n    `};\n\n  ${p => p.service === STREAM_SERVICES.WASD\n    && css`\n      --wasd-offset-top: 48px;\n\n      height: calc(100% + var(--wasd-offset-top));\n      margin-top: calc(-1 * var(--wasd-offset-top));\n      margin-right: -320px;\n    `};\n\n  ${p => p.isMobile\n    && css`\n      height: auto;\n      flex-grow: 0;\n      flex-shrink: 0;\n\n      &:after {\n        display: block;\n        content: '';\n        padding-top: 56.25%;\n      }\n    `}\n`;\nconst StyledPlayer = styled(Player)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: none;\n  width: 100%;\n  height: 100%;\n`;\nconst ChatsWrapper = styled.div`\n  position: relative;\n  flex-shrink: 0;\n  width: var(--chat-witdh);\n\n  ${p => p.isMobile\n    && css`\n      width: 100%;\n      flex-grow: 1;\n    `}\n`;\nconst ChatTabs = styled.div`\n  display: flex;\n  height: var(--chat-tabs-height);\n  border-bottom: 1px solid var(--color-violet);\n`;\nconst ChatTab = styled.div`\n  flex-grow: 1;\n  flex-basis: 0;\n  color: ${p => (p.active ? '#d3d3d3' : '#898395')};\n  background-color: var(${p => (p.active ? '--color-violet-dark' : '--color-black')});\n  font-family: sans-serif;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: var(--chat-tabs-height);\n  text-align: center;\n  cursor: pointer;\n  &:hover {\n    background-color: var(--color-violet-dark);\n  }\n  &:not(:last-child) {\n    border-right: 1px solid var(--color-violet);\n  }\n`;\nconst Chat = styled.iframe`\n  display: ${p => (p.active ? 'block' : 'none')};\n  width: 100%;\n  height: calc(100vh - var(--chat-tabs-height));\n  border: none;\n  background-color: #fff;\n\n  ${p => p.isMobile\n    && css`\n      height: calc(100% - var(--chat-tabs-height));\n    `}\n`;\n\nconst YOUTUBE_PRESET_REGEX = /^(youtube)=([a-zA-Z0-9_-]{11})$/;\n\nconst getPresetFromHash = () => {\n  const hash = window.location.hash.slice(1);\n  const m = YOUTUBE_PRESET_REGEX.exec(hash);\n\n  if (m !== null) {\n    const [, value, payload] = m;\n    return { value, payload };\n  }\n\n  return { value: hash };\n};\n\nconst isPresetValid = preset => preset && Object.keys(PRESETS).includes(preset.value);\n\nconst getInitialHash = () => {\n  const preset = getPresetFromHash();\n  return isPresetValid(preset) ? preset : null;\n};\n\nconst getFrames = (preset) => {\n  let playerParam;\n  let chatsParam;\n\n  if (preset) {\n    const { value, payload } = preset;\n    const { player: presetPlayer, chats: presetChats } = PRESETS[value];\n\n    playerParam = typeof presetPlayer === 'function' ? presetPlayer(payload) : presetPlayer;\n    chatsParam = typeof presetChats === 'function' ? presetChats(payload) : presetChats;\n  } else {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    playerParam = urlParams.get('player');\n    chatsParam = urlParams.get('chats');\n  }\n\n  return {\n    player: getPlayerFromUrl(playerParam),\n    chats: getChatsFromUrl(chatsParam),\n  };\n};\n\nconst App = () => {\n  const [preset, setPreset] = useState(getInitialHash);\n  const { player, chats } = getFrames(preset);\n  const [activeChat, setActiveChat] = useState(chats[0].url);\n  const isMobileSize = useIsMobile();\n  const isMobile = isMobileSize\n    && player.service !== STREAM_SERVICES.WASD\n    && player.service !== STREAM_SERVICES.NONOLIVE;\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => setActiveChat(chats[0].url), [preset]);\n\n  useEffect(() => {\n    const handleHashChange = () => {\n      const newPreset = getPresetFromHash();\n      if (isPresetValid(newPreset)) setPreset(newPreset);\n    };\n\n    window.addEventListener('hashchange', handleHashChange);\n\n    return () => window.removeEventListener('hashchange', handleHashChange);\n  }, [setPreset]);\n\n  // Убираем чат nonolive если он совпадает с каналом плеера\n  const renderedChats = chats.filter(\n    chat => !(chat.service === STREAM_SERVICES.NONOLIVE && chat.payload === player.payload),\n  );\n\n  return (\n    <>\n      <Container service={player.service} isMobile={isMobile}>\n        <PlayerWrapper service={player.service} isMobile={isMobile}>\n          <StyledPlayer src={player.url} />\n        </PlayerWrapper>\n        {player.service === STREAM_SERVICES.WASD && <WasdIconOverflow />}\n        {player.service === STREAM_SERVICES.NONOLIVE && (\n          <NonoliveOverflow>\n            <NonoliveMessage />\n          </NonoliveOverflow>\n        )}\n        <ChatsWrapper isMobile={isMobile}>\n          <ChatTabs>\n            {chats.map(chat => (\n              <ChatTab\n                key={chat.url}\n                active={chat.url === activeChat}\n                onClick={() => setActiveChat(chat.url)}\n              >\n                {chat.payload}\n              </ChatTab>\n            ))}\n          </ChatTabs>\n          {renderedChats.map(chat => (\n            <Chat\n              key={chat.url}\n              active={chat.url === activeChat}\n              src={chat.url}\n              isMobile={isMobile}\n            />\n          ))}\n        </ChatsWrapper>\n      </Container>\n      <GlobalStyle />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactGA from 'react-ga';\n\nimport App from './App';\n\nReactGA.initialize('UA-139550930-1');\nReactGA.pageview(window.location.pathname + window.location.search + window.location.hash);\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}