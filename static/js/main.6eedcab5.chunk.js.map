{"version":3,"sources":["utils/streamServices.js","Player.jsx","icons/theater-mode.svg","NonoliveMessage.jsx","utils/urlParams.js","icons/fullscreen.svg","App.jsx","utils/fullscreen.js","index.jsx"],"names":["STREAM_SERVICES","TWITCH","NONOLIVE","getChatUrl","_ref","service","payload","concat","getPlayerUrl","_ref2","Player","className","src","playerRef","useRef","useLayoutEffect","current","setAttribute","react_default","a","createElement","ref","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fill","d","theater_mode_SvgTheaterMode","svgRef","props","viewBox","ForwardRef","forwardRef","__webpack_require__","p","NonoliveMessageRoot","styled","div","_templateObject","Link","attrs","rel","_templateObject2","TheaterMode","TheaterModeIcon","_templateObject3","NonoliveMessage","href","DEFAULT_PLAYER","DEFAULT_CHATS","id","isValidStreamService","streamService","values","includes","getStreamService","urlParam","split","slicedToArray","_streamService2","fullscreen_extends","fullscreen_objectWithoutProperties","fullscreen_objectWithoutPropertiesLoose","fullscreen_ref2","fullscreen_SvgFullscreen","fullscreen_ForwardRef","document","title","GlobalStyle","createGlobalStyle","App_templateObject","Container","App_templateObject2","NonoliveOverflow","App_templateObject3","Fullscreen","FullscreenIcon","_templateObject4","StyledPlayer","_templateObject5","css","_templateObject6","ChatTabs","_templateObject7","ChatTab","_templateObject8","active","Chat","iframe","_templateObject9","App","urlParams","URLSearchParams","window","location","search","player","getPlayerFromUrl","get","chats","map","chat","filter","getChatsFromUrl","_useState","useState","_useState2","activeChatId","setActiveChatId","_useState3","_useState4","isFullscreen","setIsFullscreen","renderedChats","Fragment","src_NonoliveMessage","onClick","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","Element","mozRequestFullscreen","webkitRequestFullscreen","msRequestFullscreen","mozExitFullscreen","webkitExitFullscreen","msExitFullscreen","defineProperty","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","mozFullScreenEnabled","msFullscreenEnabled","webkitFullscreenEnabled","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.6eedcab5.chunk.js","sourcesContent":["export const STREAM_SERVICES = {\n  TWITCH: 'twitch',\n  NONOLIVE: 'nonolive',\n  // GOODGAME: 'goodgame',\n};\n\nexport const getChatUrl = ({ service, payload }) => {\n  switch (service) {\n    case STREAM_SERVICES.TWITCH:\n    default:\n      return `//www.twitch.tv/embed/${payload}/chat?darkpopout`;\n\n    case STREAM_SERVICES.NONOLIVE:\n      return `//www.nonolive.com/popout/chat/${payload}`;\n  }\n};\n\nexport const getPlayerUrl = ({ service, payload }) => {\n  switch (service) {\n    case STREAM_SERVICES.TWITCH:\n    default:\n      return `//player.twitch.tv/?channel=${payload}`;\n\n    case STREAM_SERVICES.NONOLIVE:\n      return `//www.nonolive.com/room/${payload}`;\n  }\n};\n","import React, { useLayoutEffect, useRef } from 'react';\nimport pt from 'prop-types';\n\nimport { STREAM_SERVICES } from './utils/streamServices';\n\nconst Player = ({ className, src, service }) => {\n  const playerRef = useRef(null);\n\n  useLayoutEffect(() => {\n    if (playerRef.current && service === STREAM_SERVICES.TWITCH) {\n      playerRef.current.setAttribute('allowfullscreen', 'true');\n    }\n  }, [service]);\n\n  // eslint-disable-next-line jsx-a11y/iframe-has-title\n  return <iframe className={className} src={src} service={service} ref={playerRef} />;\n};\n\nPlayer.propTypes = {\n  className: pt.string,\n  src: pt.string.isRequired,\n  service: pt.string.isRequired,\n};\n\nexport default Player;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M4 6v14h19V6h-2v12H6V8h10v10h2V8h3V6z\"\n});\n\nvar SvgTheaterMode = function SvgTheaterMode(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 26 26\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTheaterMode, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/theater-mode.0a76c5c6.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\n\nimport { ReactComponent as TheaterModeIcon } from './icons/theater-mode.svg';\n\nconst NonoliveMessageRoot = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  opacity: 0.5;\n  color: #9f9f9f;\n`;\nconst Link = styled.a.attrs({ target: '_blank', rel: 'noopener noreferrer' })`\n  text-decoration: none;\n  color: #f2a525;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\nconst TheaterMode = styled(TheaterModeIcon)`\n  display: inline-flex;\n  width: 26px;\n  height: 26px;\n  color: #fff;\n`;\n\nconst NonoliveMessage = () => (\n  <NonoliveMessageRoot>\n    Установить расширение&nbsp;\n    <strong>Ignore X-Frame-Options Header</strong>\n    &nbsp;(\n    <Link href=\"https://chrome.google.com/webstore/detail/ignore-x-frame-headers/gleekbfjekiniecknbkamfmkohkpodhe\">\n      Chrome\n    </Link>\n    ,&nbsp;\n    <Link href=\"https://addons.mozilla.org/en-US/firefox/addon/ignore-x-frame-options-header/\">\n      Firefox\n    </Link>\n    ) и нажать кнопку Theatre Mode&nbsp;\n    <TheaterMode />\n    &nbsp;в плеере\n  </NonoliveMessageRoot>\n);\n\nexport default NonoliveMessage;\n","import { STREAM_SERVICES } from './streamServices';\n\nconst CHANNEL_SEPARATOR = '@';\nconst CHATS_SEPARATOR = ',';\n\nconst DEFAULT_PLAYER = { service: STREAM_SERVICES.TWITCH, payload: 'honeymad' };\n\nconst DEFAULT_CHATS = [\n  { id: 1, service: STREAM_SERVICES.TWITCH, payload: 'honeymad' },\n  { id: 2, service: STREAM_SERVICES.TWITCH, payload: 'nytick' },\n];\n\nconst isValidStreamService = streamService => streamService && Object.values(STREAM_SERVICES).includes(streamService.service);\n\nconst getStreamService = (urlParam) => {\n  if (!urlParam) return null;\n\n  const streamService = urlParam.split(CHANNEL_SEPARATOR);\n\n  if (streamService.length === 1) {\n    const [payload] = streamService;\n    return { id: urlParam, service: STREAM_SERVICES.TWITCH, payload };\n  }\n\n  if (streamService.length === 2) {\n    const [service, payload] = streamService;\n    return { id: urlParam, service, payload };\n  }\n\n  return null;\n};\n\nexport const getPlayerFromUrl = (urlParam) => {\n  const player = getStreamService(urlParam);\n\n  return isValidStreamService(player) ? player : DEFAULT_PLAYER;\n};\n\nexport const getChatsFromUrl = (urlParam) => {\n  if (!urlParam) return DEFAULT_CHATS;\n\n  const chats = urlParam\n    .split(CHATS_SEPARATOR)\n    .map(chat => getStreamService(chat))\n    .filter(chat => chat && isValidStreamService(chat));\n\n  return chats.length > 0 ? chats : DEFAULT_CHATS;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M6 10H4V4h6v2H6zM15 4h6v6h-2V6h-4zM4 16v6h6v-2H6v-4zM15 22h6v-6h-2v4h-4z\"\n});\n\nvar SvgFullscreen = function SvgFullscreen(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 26 26\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFullscreen, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/fullscreen.76f9c3b9.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport styled, { createGlobalStyle, css } from 'styled-components';\n\nimport Player from './Player';\nimport NonoliveMessage from './NonoliveMessage';\nimport { STREAM_SERVICES, getChatUrl, getPlayerUrl } from './utils/streamServices';\nimport { getPlayerFromUrl, getChatsFromUrl } from './utils/urlParams';\nimport { ReactComponent as FullscreenIcon } from './icons/fullscreen.svg';\n\ndocument.title = 'HoneyMad';\n\nconst GlobalStyle = createGlobalStyle`\n  :root {\n    --color-black: #0e0c13;\n    --color-violet: #2c2541;\n    --color-violet-dark: #1f1925;\n    --chat-tabs-height: 26px;\n    --chat-witdh: 340px;\n  }\n  * {\n    box-sizing: border-box;\n  }\n  body {\n    margin: 0;\n  }\n`;\nconst Container = styled.div`\n  display: flex;\n  height: 100vh;\n  font-family: sans-serif;\n`;\nconst NonoliveOverflow = styled.div`\n  position: absolute;\n  left: 0;\n  right: var(--chat-witdh);\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  height: 60px;\n  background-color: #313131;\n`;\nconst Fullscreen = styled(FullscreenIcon)`\n  display: inline-flex;\n  width: 26px;\n  height: 26px;\n  margin-left: auto;\n  cursor: pointer;\n  color: #fff;\n  transition-duration: 0.2s;\n  transition-property: color;\n\n  &:hover {\n    color: #e33d3d;\n  }\n`;\nconst StyledPlayer = styled(Player)`\n  position: relative;\n  border: none;\n  width: 100%;\n  margin-right: var(--chat-witdh);\n\n  ${p => p.service === STREAM_SERVICES.NONOLIVE\n    && css`\n      margin-right: 0;\n    `};\n`;\nconst ChatTabs = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: flex;\n  height: var(--chat-tabs-height);\n  width: var(--chat-witdh);\n  border-bottom: 1px solid var(--color-violet);\n`;\nconst ChatTab = styled.div`\n  flex-grow: 1;\n  flex-basis: 0;\n  color: ${p => (p.active ? '#d3d3d3' : '#898395')};\n  background-color: var(${p => (p.active ? '--color-violet-dark' : '--color-black')});\n  font-family: sans-serif;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: var(--chat-tabs-height);\n  text-align: center;\n  cursor: pointer;\n  &:hover {\n    background-color: var(--color-violet-dark);\n  }\n  &:not(:last-child) {\n    border-right: 1px solid var(--color-violet);\n  }\n`;\nconst Chat = styled.iframe`\n  position: absolute;\n  top: var(--chat-tabs-height);\n  right: 0;\n  display: ${p => (p.active ? 'block' : 'none')};\n  width: var(--chat-witdh);\n  height: calc(100% - var(--chat-tabs-height));\n  border: none;\n  background-color: #fff;\n`;\n\nconst App = () => {\n  const urlParams = new URLSearchParams(window.location.search);\n  const player = getPlayerFromUrl(urlParams.get('player'));\n  const chats = getChatsFromUrl(urlParams.get('chats'));\n\n  const [activeChatId, setActiveChatId] = useState(chats[0].id);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n\n  const handleFullscreenClick = () => {\n    if (isFullscreen && document.fullscreenElement) {\n      setIsFullscreen(false);\n      document.exitFullscreen();\n    } else {\n      setIsFullscreen(true);\n      document.documentElement.requestFullscreen();\n    }\n  };\n\n  // Убираем чат nonolive если он совпадает с каналом плеера\n  const renderedChats = chats.filter(\n    chat => !(chat.service === STREAM_SERVICES.NONOLIVE && chat.payload === player.payload),\n  );\n\n  return (\n    <>\n      <Container service={player.service}>\n        <StyledPlayer src={getPlayerUrl(player)} service={player.service} />\n        {player.service === STREAM_SERVICES.NONOLIVE && (\n          <NonoliveOverflow>\n            <NonoliveMessage />\n            <Fullscreen onClick={handleFullscreenClick} />\n          </NonoliveOverflow>\n        )}\n        <ChatTabs>\n          {chats.map(chat => (\n            <ChatTab\n              key={chat.id}\n              active={chat.id === activeChatId}\n              onClick={() => setActiveChatId(chat.id)}\n            >\n              {chat.payload}\n            </ChatTab>\n          ))}\n        </ChatTabs>\n        {renderedChats.map(chat => (\n          <Chat key={chat.id} active={chat.id === activeChatId} src={getChatUrl(chat)} />\n        ))}\n      </Container>\n      <GlobalStyle />\n    </>\n  );\n};\n\nexport default App;\n","export default () => {\n  /**\n   * Element.requestFullScreen() polyfill\n   * @author Chris Ferdinandi\n   * @license MIT\n   */\n  if (!Element.prototype.requestFullscreen) {\n    Element.prototype.requestFullscreen = Element.prototype.mozRequestFullscreen\n      || Element.prototype.webkitRequestFullscreen\n      || Element.prototype.msRequestFullscreen;\n  }\n\n  /**\n   * document.exitFullScreen() polyfill\n   * @author Chris Ferdinandi\n   * @license MIT\n   */\n  if (!document.exitFullscreen) {\n    document.exitFullscreen = document.mozExitFullscreen || document.webkitExitFullscreen || document.msExitFullscreen;\n  }\n\n  /**\n   * document.fullscreenElement polyfill\n   * Adapted from https://shaka-player-demo.appspot.com/docs/api/lib_polyfill_fullscreen.js.html\n   * @author Chris Ferdinandi\n   * @license MIT\n   */\n  if (!document.fullscreenElement) {\n    Object.defineProperty(document, 'fullscreenElement', {\n      get() {\n        return (\n          document.mozFullScreenElement\n          || document.msFullscreenElement\n          || document.webkitFullscreenElement\n        );\n      },\n    });\n\n    Object.defineProperty(document, 'fullscreenEnabled', {\n      get() {\n        return (\n          document.mozFullScreenEnabled\n          || document.msFullscreenEnabled\n          || document.webkitFullscreenEnabled\n        );\n      },\n    });\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport fullscreenPolyfills from './utils/fullscreen';\n\nfullscreenPolyfills();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}