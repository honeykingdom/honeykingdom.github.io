{"version":3,"sources":["Player.jsx","icons/theater-mode.svg","NonoliveMessage.jsx","utils/constants.js","hooks/useIsMobile.js","utils/streamServices.js","utils/urlParams.js","App.jsx","index.jsx"],"names":["Player","className","src","allow","allowFullScreen","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","fill","d","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","NonoliveMessageRoot","styled","div","Link","a","attrs","rel","TheaterMode","TheaterModeIcon","NonoliveMessage","href","STREAM_SERVICES","TWITCH","YOUTUBE","GOODGAME","NONOLIVE","WASD","MIXER","PRESETS","nytick","player","chats","gg","nonolive","wasd","youtube","id","mixer","getIsMobile","window","width","innerWidth","height","innerHeight","useIsMobile","useState","isMobile","setIsMobile","useEffect","handleResize","addEventListener","channel","players","getChatUrl","service","payload","getPlayerUrl","DEFAULT_PLAYER","DEFAULT_CHATS","isValidStreamService","streamService","values","includes","getStreamService","urlParam","getUrl","split","url","getPlayerFromUrl","getChats","map","chat","getChatsFromUrl","validChats","filter","GlobalStyle","createGlobalStyle","Container","p","css","NonoliveOverflow","WasdIconOverflow","PlayerWrapper","StyledPlayer","ChatsWrapper","ChatTabs","ChatTab","active","Chat","iframe","YOUTUBE_PRESET_REGEX","getPresetFromHash","hash","location","slice","m","exec","value","isPresetValid","preset","getInitialHash","App","setPreset","playerParam","chatsParam","presetPlayer","presetChats","urlParams","URLSearchParams","search","get","getFrames","activeChat","setActiveChat","handleHashChange","newPreset","removeEventListener","renderedChats","onClick","ReactGA","initialize","pageview","pathname","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c824cb1f.chunk.js","sourcesContent":["import React from 'react';\nimport pt from 'prop-types';\n\nconst Player = ({ className, src }) => (\n  // eslint-disable-next-line jsx-a11y/iframe-has-title\n  <iframe className={className} src={src} allow=\"autoplay\" allowFullScreen=\"true\" />\n);\nPlayer.propTypes = {\n  className: pt.string,\n  src: pt.string.isRequired,\n};\n\nexport default Player;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M4 6v14h19V6h-2v12H6V8h10v10h2V8h3V6z\"\n});\n\nvar SvgTheaterMode = function SvgTheaterMode(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 26 26\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTheaterMode, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/theater-mode.0a76c5c6.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\n\nimport { ReactComponent as TheaterModeIcon } from './icons/theater-mode.svg';\n\nconst NonoliveMessageRoot = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  opacity: 0.5;\n  color: #9f9f9f;\n`;\nconst Link = styled.a.attrs({ target: '_blank', rel: 'noopener noreferrer' })`\n  text-decoration: none;\n  color: #f2a525;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\nconst TheaterMode = styled(TheaterModeIcon)`\n  display: inline-flex;\n  width: 26px;\n  height: 26px;\n  color: #fff;\n`;\n\nconst NonoliveMessage = () => (\n  <NonoliveMessageRoot>\n    Установить расширение&nbsp;\n    <strong>Ignore X-Frame-Options Header</strong>\n    &nbsp;(\n    <Link href=\"https://chrome.google.com/webstore/detail/ignore-x-frame-headers/gleekbfjekiniecknbkamfmkohkpodhe\">\n      Chrome\n    </Link>\n    ,&nbsp;\n    <Link href=\"https://addons.mozilla.org/en-US/firefox/addon/ignore-x-frame-options-header/\">\n      Firefox\n    </Link>\n    ) и нажать кнопку Theatre Mode&nbsp;\n    <TheaterMode />\n    &nbsp;в плеере\n  </NonoliveMessageRoot>\n);\n\nexport default NonoliveMessage;\n","export const STREAM_SERVICES = {\n  TWITCH: 'twitch',\n  YOUTUBE: 'youtube',\n  GOODGAME: 'goodgame',\n  NONOLIVE: 'nonolive',\n  WASD: 'wasd',\n  MIXER: 'mixer',\n};\n\nexport const PRESETS = {\n  nytick: {\n    player: 'nytick',\n    chats: 'honeymad,nytick',\n  },\n  gg: {\n    player: 'goodgame@41677',\n    chats: 'honeymad,goodgame@41677',\n  },\n  'gg-lasqa': {\n    player: 'goodgame@99600',\n    chats: 'lasqa,goodgame@99600',\n  },\n  'gg-segall': {\n    player: 'goodgame@99600',\n    chats: 'segall,goodgame@99600',\n  },\n  'gg-arrowwoods': {\n    player: 'goodgame@137757',\n    chats: 'arrowwoods,goodgame@137757',\n  },\n  'gg-melharucos': {\n    player: 'goodgame@25432',\n    chats: 'melharucos,goodgame@25432',\n  },\n  'gg-liz0n': {\n    player: 'goodgame@79564',\n    chats: 'liz0n,goodgame@79564',\n  },\n  'gg-roadhouse': {\n    player: 'goodgame@130743',\n    chats: 'roadhouse,goodgame@130743',\n  },\n  'gg-zanuda': {\n    player: 'goodgame@88446',\n    chats: 'zanuda,goodgame@88446',\n  },\n  nonolive: {\n    player: 'nonolive@18407291',\n    chats: 'honeymad,nonolive@18407291',\n  },\n  wasd: {\n    player: 'wasd@22196',\n    chats: 'honeymad,wasd@22196',\n  },\n  'wasd-cake': {\n    player: 'wasd@40656',\n    chats: 'c_a_k_e,wasd@40656',\n  },\n  'wasd-zanuda': {\n    player: 'wasd@20402',\n    chats: 'zanuda,wasd@20402',\n  },\n  youtube: {\n    player: id => `youtube@${id}`,\n    chats: id => `honeymad,youtube@${id}`,\n  },\n  mixer: {\n    player: 'mixer@JoaquinPanis',\n    chats: 'honeymad,mixer@JoaquinPanis',\n  },\n};\n","import { useState, useEffect } from 'react';\n\nconst MAX_WIDTH = 920;\nconst MIN_HEIGHT = 768;\n\nconst getIsMobile = () => {\n  const { innerWidth: width, innerHeight: height } = window;\n\n  return width < MAX_WIDTH && height >= MIN_HEIGHT;\n};\n\nconst useIsMobile = () => {\n  const [isMobile, setIsMobile] = useState(getIsMobile);\n\n  useEffect(() => {\n    const handleResize = () => setIsMobile(getIsMobile());\n\n    window.addEventListener('resize', handleResize);\n\n    return () => window.addEventListener('resize', handleResize);\n  }, [setIsMobile]);\n\n  return isMobile;\n};\n\nexport default useIsMobile;\n","import { STREAM_SERVICES } from './constants';\n\nconst chats = {\n  [STREAM_SERVICES.TWITCH]: channel => `//www.twitch.tv/embed/${channel}/chat?darkpopout`,\n  [STREAM_SERVICES.YOUTUBE]: id => `//www.youtube.com/live_chat?v=${id}&is_popout=1`,\n  [STREAM_SERVICES.GOODGAME]: id => `//goodgame.ru/chat/${id}`,\n  [STREAM_SERVICES.NONOLIVE]: id => `//www.nonolive.com/popout/chat/${id}`,\n  [STREAM_SERVICES.WASD]: id => `//wasd.tv/chat?channel_id=${id}`,\n  [STREAM_SERVICES.MIXER]: channel => `//mixer.com/embed/chat/${channel}`,\n};\n\nconst players = {\n  [STREAM_SERVICES.TWITCH]: channel => `//player.twitch.tv/?channel=${channel}`,\n  [STREAM_SERVICES.YOUTUBE]: id => `//www.youtube.com/embed/${id}?autoplay=1`,\n  [STREAM_SERVICES.GOODGAME]: id => `//goodgame.ru/player?${id}`,\n  [STREAM_SERVICES.NONOLIVE]: id => `//www.nonolive.com/room/${id}`,\n  [STREAM_SERVICES.WASD]: id => `//wasd.tv/channel/${id}`,\n  [STREAM_SERVICES.MIXER]: channel => `//mixer.com/embed/player/${channel}`,\n};\n\nexport const getChatUrl = ({ service, payload }) => chats[service](payload);\n\nexport const getPlayerUrl = ({ service, payload }) => players[service](payload);\n","import { getChatUrl, getPlayerUrl } from './streamServices';\nimport { STREAM_SERVICES, PRESETS } from './constants';\n\nconst CHANNEL_SEPARATOR = '@';\nconst CHATS_SEPARATOR = ',';\n\nconst { player: DEFAULT_PLAYER, chats: DEFAULT_CHATS } = PRESETS.wasd;\n\nconst isValidStreamService = streamService => streamService && Object.values(STREAM_SERVICES).includes(streamService.service);\n\nconst getStreamService = (urlParam, getUrl) => {\n  if (!urlParam) return null;\n\n  const streamService = urlParam.split(CHANNEL_SEPARATOR);\n\n  if (streamService.length === 1) {\n    const service = STREAM_SERVICES.TWITCH;\n    const [payload] = streamService;\n\n    return {\n      service,\n      payload,\n      url: getUrl({ service, payload }),\n    };\n  }\n\n  if (streamService.length === 2) {\n    const [service, payload] = streamService;\n\n    return {\n      service,\n      payload,\n      url: getUrl({ service, payload }),\n    };\n  }\n\n  return null;\n};\n\nexport const getPlayerFromUrl = (urlParam) => {\n  const player = getStreamService(urlParam, getPlayerUrl);\n\n  return isValidStreamService(player) ? player : getStreamService(DEFAULT_PLAYER, getPlayerUrl);\n};\n\nconst getChats = urlParam => urlParam.split(CHATS_SEPARATOR).map(chat => getStreamService(chat, getChatUrl));\n\nexport const getChatsFromUrl = (urlParam) => {\n  const chats = getChats(urlParam || DEFAULT_CHATS);\n  const validChats = chats.filter(chat => chat && isValidStreamService(chat));\n\n  return validChats.length > 0 ? validChats : getChats(DEFAULT_CHATS);\n};\n","import React, { useState, useEffect } from 'react';\nimport styled, { createGlobalStyle, css } from 'styled-components';\n\nimport Player from './Player';\nimport NonoliveMessage from './NonoliveMessage';\nimport { STREAM_SERVICES, PRESETS } from './utils/constants';\nimport useIsMobile from './hooks/useIsMobile';\nimport { getPlayerFromUrl, getChatsFromUrl } from './utils/urlParams';\n\nconst GlobalStyle = createGlobalStyle`\n  :root {\n    --color-black: #0e0c13;\n    --color-violet: #2c2541;\n    --color-violet-dark: #1f1925;\n    --chat-tabs-height: 26px;\n    --chat-witdh: 340px;\n  }\n  * {\n    box-sizing: border-box;\n  }\n  body {\n    margin: 0;\n  }\n`;\nconst Container = styled.div`\n  display: flex;\n  align-items: flex-start;\n  height: 100vh;\n  font-family: sans-serif;\n\n  ${(p) => p.isMobile\n    && css`\n      flex-direction: column;\n      align-items: stretch;\n    `}\n`;\nconst NonoliveOverflow = styled.div`\n  position: absolute;\n  left: 0;\n  right: var(--chat-witdh);\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  height: 60px;\n  background-color: #313131;\n`;\nconst WasdIconOverflow = styled.div`\n  position: absolute;\n  top: 6px;\n  right: var(--chat-witdh);\n  width: 32px;\n  height: 28px;\n`;\nconst PlayerWrapper = styled.div`\n  position: relative;\n  flex-grow: 1;\n  height: 100%;\n\n  ${(p) => p.service === STREAM_SERVICES.NONOLIVE\n    && css`\n      margin-right: calc(-1 * var(--chat-witdh));\n    `};\n\n  ${(p) => p.service === STREAM_SERVICES.WASD\n    && css`\n      --wasd-offset-top: 48px;\n\n      height: calc(100% + var(--wasd-offset-top));\n      margin-top: calc(-1 * var(--wasd-offset-top));\n      margin-right: -320px;\n    `};\n\n  ${(p) => p.isMobile\n    && css`\n      height: auto;\n      flex-grow: 0;\n      flex-shrink: 0;\n\n      &:after {\n        display: block;\n        content: '';\n        padding-top: 56.25%;\n      }\n    `}\n`;\nconst StyledPlayer = styled(Player)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: none;\n  width: 100%;\n  height: 100%;\n`;\nconst ChatsWrapper = styled.div`\n  position: relative;\n  flex-shrink: 0;\n  width: var(--chat-witdh);\n\n  ${(p) => p.isMobile\n    && css`\n      width: 100%;\n      flex-grow: 1;\n    `}\n`;\nconst ChatTabs = styled.div`\n  display: flex;\n  height: var(--chat-tabs-height);\n  border-bottom: 1px solid var(--color-violet);\n`;\nconst ChatTab = styled.div`\n  flex-grow: 1;\n  flex-basis: 0;\n  color: ${(p) => (p.active ? '#d3d3d3' : '#898395')};\n  background-color: var(${(p) => (p.active ? '--color-violet-dark' : '--color-black')});\n  font-family: sans-serif;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: var(--chat-tabs-height);\n  text-align: center;\n  cursor: pointer;\n  &:hover {\n    background-color: var(--color-violet-dark);\n  }\n  &:not(:last-child) {\n    border-right: 1px solid var(--color-violet);\n  }\n`;\nconst Chat = styled.iframe`\n  display: ${(p) => (p.active ? 'block' : 'none')};\n  width: 100%;\n  height: calc(100vh - var(--chat-tabs-height));\n  border: none;\n  background-color: #fff;\n\n  ${(p) => p.isMobile\n    && css`\n      height: calc(100% - var(--chat-tabs-height));\n    `}\n`;\n\nconst YOUTUBE_PRESET_REGEX = /^(youtube)=([a-zA-Z0-9_-]{11})$/;\n\nconst getPresetFromHash = () => {\n  const hash = window.location.hash.slice(1);\n  const m = YOUTUBE_PRESET_REGEX.exec(hash);\n\n  if (m !== null) {\n    const [, value, payload] = m;\n    return { value, payload };\n  }\n\n  return { value: hash };\n};\n\nconst isPresetValid = (preset) => preset && Object.keys(PRESETS).includes(preset.value);\n\nconst getInitialHash = () => {\n  const preset = getPresetFromHash();\n  return isPresetValid(preset) ? preset : null;\n};\n\nconst getFrames = (preset) => {\n  let playerParam;\n  let chatsParam;\n\n  if (preset) {\n    const { value, payload } = preset;\n    const { player: presetPlayer, chats: presetChats } = PRESETS[value];\n\n    playerParam = typeof presetPlayer === 'function' ? presetPlayer(payload) : presetPlayer;\n    chatsParam = typeof presetChats === 'function' ? presetChats(payload) : presetChats;\n  } else {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    playerParam = urlParams.get('player');\n    chatsParam = urlParams.get('chats');\n  }\n\n  return {\n    player: getPlayerFromUrl(playerParam),\n    chats: getChatsFromUrl(chatsParam),\n  };\n};\n\nconst App = () => {\n  const [preset, setPreset] = useState(getInitialHash);\n  const { player, chats } = getFrames(preset);\n  const [activeChat, setActiveChat] = useState(chats[0].url);\n  const isMobileSize = useIsMobile();\n  const isMobile = isMobileSize\n    && player.service !== STREAM_SERVICES.WASD\n    && player.service !== STREAM_SERVICES.NONOLIVE;\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => setActiveChat(chats[0].url), [preset]);\n\n  useEffect(() => {\n    const handleHashChange = () => {\n      const newPreset = getPresetFromHash();\n      if (isPresetValid(newPreset)) setPreset(newPreset);\n    };\n\n    window.addEventListener('hashchange', handleHashChange);\n\n    return () => window.removeEventListener('hashchange', handleHashChange);\n  }, [setPreset]);\n\n  // Убираем чат nonolive если он совпадает с каналом плеера\n  const renderedChats = chats.filter(\n    (chat) => !(chat.service === STREAM_SERVICES.NONOLIVE && chat.payload === player.payload),\n  );\n\n  return (\n    <>\n      <Container service={player.service} isMobile={isMobile}>\n        <PlayerWrapper service={player.service} isMobile={isMobile}>\n          <StyledPlayer src={player.url} />\n        </PlayerWrapper>\n        {player.service === STREAM_SERVICES.WASD && <WasdIconOverflow />}\n        {player.service === STREAM_SERVICES.NONOLIVE && (\n          <NonoliveOverflow>\n            <NonoliveMessage />\n          </NonoliveOverflow>\n        )}\n        <ChatsWrapper isMobile={isMobile}>\n          <ChatTabs>\n            {chats.map((chat) => (\n              <ChatTab\n                key={chat.url}\n                active={chat.url === activeChat}\n                onClick={() => setActiveChat(chat.url)}\n              >\n                {chat.payload}\n              </ChatTab>\n            ))}\n          </ChatTabs>\n          {renderedChats.map((chat) => (\n            <Chat\n              key={chat.url}\n              active={chat.url === activeChat}\n              src={chat.url}\n              isMobile={isMobile}\n            />\n          ))}\n        </ChatsWrapper>\n      </Container>\n      <GlobalStyle />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactGA from 'react-ga';\n\nimport App from './App';\n\nReactGA.initialize('UA-139550930-1');\nReactGA.pageview(window.location.pathname + window.location.search + window.location.hash);\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}