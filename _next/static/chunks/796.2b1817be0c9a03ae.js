"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{1796:function(e,t,a){a.r(t),a.d(t,{default:function(){return src_Home}});var n,l,o=a(5489),r=a(757),c=a(7726),i=a(8360),s=a(2659);(n=l||(l={})).twitch="twitch",n.youtube="youtube",n.goodgame="goodgame",n.wasd="wasd",n.rutube="rutube",n.vkplay="vkplay";let u={nytick:{player:"nytick",chats:"honeymad,nytick"},gg:{player:"goodgame@41677",chats:"honeymad,goodgame@41677"},"gg-lasqa":{player:"goodgame@99600",chats:"lasqa,goodgame@99600"},"gg-segall":{player:"goodgame@99600",chats:"segall,goodgame@99600"},"gg-arrowwoods":{player:"goodgame@137757",chats:"arrowwoods,goodgame@137757"},"gg-melharucos":{player:"goodgame@171713",chats:"melharucos,goodgame@171713"},"gg-liz0n":{player:"goodgame@79564",chats:"liz0n,goodgame@79564"},"gg-roadhouse":{player:"goodgame@130743",chats:"roadhouse,goodgame@130743"},"gg-zanuda":{player:"goodgame@88446",chats:"zanuda,goodgame@88446"},"gg-nuke73":{player:"goodgame@3610",chats:"nuke73,goodgame@3610"},"gg-peacedaria":{player:"goodgame@187660",chats:"peacedaria"},"gg-praden":{player:"goodgame@176695",chats:"praden,goodgame@176695"},wasd:{player:"wasd@22196",chats:"honeymad,wasd@22196"},"wasd-cake":{player:"wasd@40656",chats:"c_a_k_e,wasd@40656"},"wasd-zanuda":{player:"wasd@20402",chats:"zanuda,wasd@20402"},"wasd-lasqa":{player:"wasd@164328",chats:"lasqa,goodgame@99600,wasd@164328"},"wasd-segall":{player:"wasd@166801",chats:"segall,wasd@166801"},"wasd-guit88man":{player:"wasd@111152",chats:"guit88man,wasd@111152"},"wasd-nuke73":{player:"wasd@103444",chats:"nuke73,wasd@103444"},"wasd-arrowwoods":{player:"wasd@47282",chats:"arrowwoods,goodgame@180813,wasd@47282"},youtube:{player:e=>"youtube@".concat(e),chats:e=>"honeymad,youtube@".concat(e)},"rt-lasqa":{player:e=>"rutube@".concat(e),chats:()=>"lasqa"}};var utils_getChatTabTitle=e=>{let{service:t,payload:a}=e;return t===l.twitch?a:t};let d={[l.twitch]:e=>"//www.twitch.tv/embed/".concat(e,"/chat?darkpopout&parent=").concat(window.location.host),[l.youtube]:e=>"//www.youtube.com/live_chat?v=".concat(e,"&is_popout=1"),[l.goodgame]:e=>"//goodgame.ru/chat/".concat(e),[l.wasd]:e=>"//wasd.tv/chat?channel_id=".concat(e),[l.rutube]:e=>"//rutube.ru/pl/?pl_id&pl_type&pl_video=".concat(e),[l.vkplay]:e=>"//vkplay.live/".concat(e,"/only-chat?initialMode=0")},h={[l.twitch]:e=>"//player.twitch.tv/?channel=".concat(e,"&parent=").concat(window.location.host),[l.youtube]:e=>"//www.youtube.com/embed/".concat(e,"?autoplay=1"),[l.goodgame]:e=>"//goodgame.ru/player?".concat(e),[l.wasd]:e=>"//wasd.tv/channel/".concat(e),[l.rutube]:e=>"//rutube.ru/chat/?videoId=".concat(e),[l.vkplay]:e=>"//vkplay.live/app/embed/".concat(e)},getChatUrl=(e,t)=>d[e](t),getPlayerUrl=(e,t)=>h[e](t),g=/^(youtube)=([a-zA-Z0-9_-]{11})$/,p=u.wasd,{player:b,chats:m}=p,isValidService=e=>e in l,getFrame=(e,t)=>{if(!e)return null;let a=e.split("@"),n=null,o=null;if(1===a.length){let[e]=a;n=l.twitch,o=e}if(2===a.length){let[e,t]=a;if(!isValidService(e))return null;n=e,o=t}return n&&o?{service:n,payload:o,url:t(n,o)}:null},getPlayerFrame=e=>{let t=getFrame(e,getPlayerUrl);return t||getFrame(b,getPlayerUrl)},getChats=e=>e.split(",").map(e=>getFrame(e,getChatUrl)),getChatFrames=e=>{let t=getChats(e||m),a=t.filter(Boolean);return a.length>0?a:getChats(m)};var utils_getPlayerAndChat=e=>{let{hash:t,searchParams:a}=e,n=new URLSearchParams(a),l=n.get("player"),o=n.get("chats"),r=t.slice(1);if(r){let e=g.exec(r),t="",a="";if(null!==e){let[,n,l]=e;t=n,a=l}else t=r;if(Object.keys(u).includes(t)){let{player:e,chats:n}=u[t];l="function"==typeof e?e(a):e,o="function"==typeof n?n(a):n}}l||o||(l=b,o=m),l||(l=b),o||(o=l);let c=getPlayerFrame(l),i=getChatFrames(o);return{player:c,chats:i}};let getPlayerAndChatData=()=>utils_getPlayerAndChat({hash:window.location.hash,searchParams:window.location.search});var hooks_usePlayerAndChat=()=>{let[e,t]=(0,c.useState)(getPlayerAndChatData);return(0,c.useEffect)(()=>{let handleHashChange=()=>{t(getPlayerAndChatData())};return window.addEventListener("hashchange",handleHashChange),()=>window.removeEventListener("hashchange",handleHashChange)},[]),e};let getIsMobile=()=>{let{innerWidth:e,innerHeight:t}=window;return e<920&&t>=768};var hooks_useIsMobile=()=>{let[e,t]=(0,c.useState)(getIsMobile);return(0,c.useEffect)(()=>{let handleResize=()=>t(getIsMobile());return window.addEventListener("resize",handleResize),()=>window.addEventListener("resize",handleResize)},[t]),e};function _templateObject(){let e=(0,o._)(["\n  :root {\n    --color-black: #0e0c13;\n    --color-violet: #2c2541;\n    --color-violet-dark: #1f1925;\n    --chat-tabs-height: 20px;\n    --chat-width: 340px;\n  }\n  * {\n    box-sizing: border-box;\n  }\n  body {\n    margin: 0;\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,o._)(["\n      flex-direction: column;\n      align-items: stretch;\n    "]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,o._)(["\n  display: flex;\n  align-items: flex-start;\n  height: 100vh;\n  font-family: sans-serif;\n\n  ","\n"]);return _templateObject2=function(){return e},e}function _templateObject3(){let e=(0,o._)(["\n  position: absolute;\n  top: 54px;\n  right: var(--chat-width);\n  width: 32px;\n  height: 28px;\n"]);return _templateObject3=function(){return e},e}function _templateObject4(){let e=(0,o._)(["\n      --wasd-offset-top: 48px;\n\n      height: calc(100% + var(--wasd-offset-top));\n      margin-top: calc(-1 * var(--wasd-offset-top));\n      margin-right: -320px;\n    "]);return _templateObject4=function(){return e},e}function _templateObject5(){let e=(0,o._)(["\n      height: auto;\n      flex-grow: 0;\n      flex-shrink: 0;\n\n      &:after {\n        display: block;\n        content: '';\n        padding-top: 56.25%;\n      }\n    "]);return _templateObject5=function(){return e},e}function _templateObject6(){let e=(0,o._)(["\n  position: relative;\n  flex-grow: 1;\n  height: 100%;\n\n  ",";\n\n  ","\n"]);return _templateObject6=function(){return e},e}function _templateObject7(){let e=(0,o._)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: none;\n  width: 100%;\n  height: 100%;\n"]);return _templateObject7=function(){return e},e}function _templateObject8(){let e=(0,o._)(["\n      width: 100%;\n      flex-grow: 1;\n    "]);return _templateObject8=function(){return e},e}function _templateObject9(){let e=(0,o._)(["\n  position: relative;\n  flex-shrink: 0;\n  width: var(--chat-width);\n\n  ","\n"]);return _templateObject9=function(){return e},e}function _templateObject10(){let e=(0,o._)(["\n  display: flex;\n  height: var(--chat-tabs-height);\n  border-bottom: 1px solid var(--color-violet);\n"]);return _templateObject10=function(){return e},e}function _templateObject11(){let e=(0,o._)(["\n  display: flex;\n  flex-grow: 1;\n"]);return _templateObject11=function(){return e},e}function _templateObject12(){let e=(0,o._)(["\n  flex-grow: 1;\n  flex-basis: 0;\n  color: ",";\n  background-color: ",";\n  font-family: sans-serif;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: var(--chat-tabs-height);\n  text-align: center;\n  border-right: 1px solid var(--color-violet);\n  cursor: pointer;\n\n  &:hover {\n    background-color: var(--color-violet-dark);\n  }\n"]);return _templateObject12=function(){return e},e}function _templateObject13(){let e=(0,o._)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--chat-tabs-height);\n  background-color: var(--color-black);\n\n  &:hover {\n    background-color: var(--color-violet-dark);\n  }\n\n  svg path {\n    fill: #898395;\n  }\n"]);return _templateObject13=function(){return e},e}function _templateObject14(){let e=(0,o._)(["\n      height: calc(100% - var(--chat-tabs-height));\n    "]);return _templateObject14=function(){return e},e}function _templateObject15(){let e=(0,o._)(["\n  display: ",";\n  width: 100%;\n  height: calc(100vh - var(--chat-tabs-height));\n  border: none;\n  background-color: #fff;\n\n  ","\n"]);return _templateObject15=function(){return e},e}let w=(0,i.vJ)(_templateObject()),f=i.ZP.div(_templateObject2(),e=>e.$isMobile&&(0,i.iv)(_templateObject1())),_=i.ZP.div(_templateObject3()),v=i.ZP.div(_templateObject6(),e=>e.$service===l.wasd&&(0,i.iv)(_templateObject4()),e=>e.$isMobile&&(0,i.iv)(_templateObject5())),y=i.ZP.iframe.attrs({allow:"autoplay",allowFullScreen:!0})(_templateObject7()),j=i.ZP.div(_templateObject9(),e=>e.$isMobile&&(0,i.iv)(_templateObject8())),k=i.ZP.div(_templateObject10()),O=i.ZP.div(_templateObject11()),x=i.ZP.div(_templateObject12(),e=>e.$active?"#d3d3d3":"#898395",e=>e.$active?"var(--color-violet-dark)":"var(--color-black)"),C=i.ZP.a(_templateObject13()),P=i.ZP.iframe(_templateObject15(),e=>e.$active?"block":"none",e=>e.$isMobile&&(0,i.iv)(_templateObject14())),handleGitHubLinkClick=()=>ga("send",{category:"User Interface",eventAction:"GitHub Repository Click"});var src_Home=()=>{let{player:e,chats:t}=hooks_usePlayerAndChat(),[a,n]=(0,c.useState)(t[0].url),o=hooks_useIsMobile(),i=o&&e.service!==l.wasd;(0,c.useEffect)(()=>n(t[0].url),[n,t]);let u=t.filter(t=>{let{service:a,payload:n}=t;return!(a===l.wasd&&n===e.payload)});return console.log({player:e,chats:t}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f,{$isMobile:i,children:[(0,r.jsx)(v,{$service:e.service,$isMobile:i,children:(0,r.jsx)(y,{src:e.url,title:"".concat(e.service," - ").concat(e.payload)})}),e.service===l.wasd&&(0,r.jsx)(_,{}),(0,r.jsxs)(j,{$isMobile:i,children:[(0,r.jsxs)(k,{children:[(0,r.jsx)(O,{children:t.map(e=>(0,r.jsx)(x,{$active:e.url===a,onClick:()=>n(e.url),children:utils_getChatTabTitle(e)},e.url))}),(0,r.jsx)(C,{target:"_blank",rel:"noreferrer noopener",href:"//github.com/honeykingdom/honeykingdom.github.io",title:"Репозиторий на GitHub",onClick:handleGitHubLinkClick,children:(0,r.jsx)(s.Z,{})})]}),u.map(e=>{let{url:t}=e;return(0,r.jsx)(P,{src:t,$active:t===a,$isMobile:i},t)})]})]}),(0,r.jsx)(w,{})]})}}}]);